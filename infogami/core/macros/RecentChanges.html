$def with (limit=50)

$ changes = get_recent_changes(ctx.site, limit=limit)

$var title: $_.RECENT_CHANGES

<table>
<tr>
  <th>$_.WHEN</th>
  <th>$_.PATH</th>
  <th>$_.WHO</th>
  <th>$_.ACTIONS</th>
</tr>

$for v in changes:
    <tr>
    <td>$datestr(v.created)</td>
    <td>$v.thing.name</td>
    <td>$(v.author or v.ip)</td>
    <td>
    <a href="$homepath()/$v.thing.name?m=view&v=$v.revision">$_.VIEW</a>&nbsp;
    <a href="$homepath()/$v.thing.name?m=edit&v=$v.revision">$_.EDIT</a>&nbsp;
    <a href="$homepath()/$v.thing.name?m=diff&b=$v.revision">$_.DIFF</a>&nbsp;
    </td>
    </tr>
</table>
