$def with (page, preview=False)

$var title: $_.EDIT

$if preview:
	<table>
	$for plugin in get_plugins():
	    <tr><th>$plugin</th></tr>
	    $for key in get_i18n_keys(plugin):
	        <tr><td>$key</td><td>$page.get(plugin + '.' + key, "-")</td>
	</table>

<script>
function changeTemplate() {
    var t = document.edit._type.value;
    document.location.href += '&t=' + t;
}
</script>

<form name="edit" method="POST">
<strong>$_.PAGETYPE</strong> <input type="text" name="_type" value="$page.type.name" />
<input type="button" onclick="changeTemplate()" value="$_.CHANGE"/><br /><br />

$for plugin in get_plugins():
    <h3>$plugin</h3>
    <table id="table_$plugin">
    $for key in get_i18n_keys(plugin):
        <tr><td>$key</td><td><input type="text" name="$(plugin + '.' + key)" value="$page.get(plugin + '.' + key, '')"/></td>
    </table>

<input type="submit" name="_save" value="$_.SAVE" />
<input type="submit" name="_preview" value="$_.PREVIEW" />
<input type="submit" name="_delete" value="$_.DELETE" />
</form>

